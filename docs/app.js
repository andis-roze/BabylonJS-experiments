(()=>{"use strict";var e,t={3607:(e,t,n)=>{var i=n(3339),r=n(2543),o=n(70),s=n(5186),a=n(2867),h=n(9009),c=n(2906),u=n(2499),d=n(7243),l=n(8289),p=function(){function e(e){var t=this;if(this.renderWidth=0,this.renderHeight=0,this.currentMouseX=0,this.onMouseMove=function(e){t.currentMouseX=e.clientX},this.onMouseOut=function(e){t.currentMouseX=t.renderWidth/2},this.onTouchMove=function(e){e.touches&&e.touches.length&&(t.currentMouseX=e.touches[0].clientX)},this.onTouchEnd=function(e){e.touches&&e.touches.length&&(t.currentMouseX=t.renderWidth/2)},!i.Engine.isSupported)throw new Error("Not supported!");this.canvas=e,this.engine=new i.Engine(this.canvas,!0),this.scene=new r.Scene(this.engine),this.renderWidth=this.engine.getRenderWidth(),this.renderHeight=this.engine.getRenderHeight(),this.currentMouseX=this.renderWidth/2,this.camera=new o.UniversalCamera("camera",new s.Vector3(0,0,-1),this.scene),this.camera.setTarget(s.Vector3.Zero()),this.camera.mode=o.UniversalCamera.ORTHOGRAPHIC_CAMERA,this.camera.attachControl(this.canvas,!0),this.initFps(),this.initPlane(),this.initOnResize(),this.initCameraControl()}return e.prototype.initFps=function(){var e=u.AdvancedDynamicTexture.CreateFullscreenUI("UI");this.fpsText=new d.TextBlock,this.fpsText.text=Math.floor(this.engine.getFps())+" FPS",this.fpsText.color="black",this.fpsText.fontSize=18,this.fpsText.width="65px",this.fpsText.height="20px",e.addControl(this.fpsText),this.fpsText.horizontalAlignment=l.Control.HORIZONTAL_ALIGNMENT_LEFT,this.fpsText.verticalAlignment=l.Control.VERTICAL_ALIGNMENT_TOP},e.prototype.initPlane=function(){var e=this,t=new c.Texture("https://a.slack-edge.com/80588/img/404/marrakesh-meadow-80.jpg",this.scene);c.Texture.WhenAllReady([t],(function(){var n=t.getSize(),i=n.width/n.height,r=new h.StandardMaterial("planeMaterial",e.scene);e.planeWidth=e.renderHeight*i,e.plane=a.PlaneBuilder.CreatePlane("plane",{width:e.planeWidth,height:e.renderHeight},e.scene),r.emissiveTexture=t,e.plane.material=r}))},e.prototype.initOnResize=function(){var e=this;window.addEventListener("resize",(function(){var t=e.engine.getRenderHeight();e.engine.resize();var n=e.engine.getRenderHeight(),i=n/t;e.renderWidth=e.engine.getRenderWidth(),e.renderHeight=n,e.currentMouseX=e.renderWidth/2,e.planeWidth*=i,e.camera.position.x*=i,e.plane.scaling=e.plane.scaling.multiplyByFloats(i,i,1)}))},e.prototype.initCameraControl=function(){this.canvas.onmousemove=this.onMouseMove,this.canvas.onmouseout=this.onMouseOut,this.canvas.ontouchmove=this.onTouchMove,this.canvas.ontouchend=this.onTouchEnd},e.prototype.moveCamera=function(){var e=this.currentMouseX/this.renderWidth,t=.55;e<.45&&this.camera.position.x>-this.planeWidth/2+this.renderWidth/2&&(this.camera.position.x+=10*(.45-e)/-.45),e>t&&this.camera.position.x<this.planeWidth/2-this.renderWidth/2&&(this.camera.position.x+=10*(e-t)/t)},e.prototype.render=function(){var e=this;this.engine.runRenderLoop((function(){e.fpsText.text=Math.floor(e.engine.getFps())+" FPS",e.scene.render(),e.moveCamera()}))},e}();document.onreadystatechange=function(){if("complete"===document.readyState){var e=document.getElementById("canvas");new p(e).render()}}}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.m=t,e=[],i.O=(t,n,r,o)=>{if(!n){var s=1/0;for(c=0;c<e.length;c++){for(var[n,r,o]=e[c],a=!0,h=0;h<n.length;h++)(!1&o||s>=o)&&Object.keys(i.O).every((e=>i.O[e](n[h])))?n.splice(h--,1):(a=!1,o<s&&(s=o));a&&(e.splice(c--,1),t=r())}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,r,o]},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={143:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[s,a,h]=n,c=0;for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(h)var u=h(i);for(t&&t(n);c<s.length;c++)o=s[c],i.o(e,o)&&e[o]&&e[o][0](),e[s[c]]=0;return i.O(u)},n=self.webpackChunkbabylonjs_experiments=self.webpackChunkbabylonjs_experiments||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=i.O(void 0,[216],(()=>i(3607)));r=i.O(r)})();
//# sourceMappingURL=app.js.map